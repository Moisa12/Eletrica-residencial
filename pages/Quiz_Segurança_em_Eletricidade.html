<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Seguran√ßa em Eletricidade</title>
    <!-- Incluindo Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Configura√ß√£o de fonte global e cores base */
        :root {
            --primary-color: #ef4444; /* red-500 */
            --text-color: #1f2937; /* gray-800 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* gray-100 */
            color: var(--text-color);
        }
        /* Estilos de Bot√£o Personalizados */
        .quiz-button {
            transition: all 0.2s;
            cursor: pointer;
            border-width: 2px;
        }
        .quiz-button:hover:not([disabled]) {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        /* Estilo para op√ß√£o correta/incorreta */
        .correct-answer {
            background-color: #d1fae5 !important; /* green-100 */
            border-color: #10b981 !important; /* green-500 */
            font-weight: 600;
        }
        .incorrect-answer {
            background-color: #fee2e2 !important; /* red-100 */
            border-color: #ef4444 !important; /* red-500 */
            font-weight: 600;
        }
    </style>
</head>
<body class="antialiased flex items-center justify-center min-h-screen p-4">

    <!-- 1. Conte√∫do Principal do Quiz (Card Centralizado) -->
    <div id="quiz-container" class="w-full max-w-3xl bg-white p-6 sm:p-10 rounded-2xl shadow-xl border border-red-200">

        <!-- T√≠tulo do Quiz -->
        <header class="text-center mb-8 border-b pb-4">
            <h1 class="text-3xl sm:text-4xl font-black text-red-600">
                Quiz: Seguran√ßa em Eletricidade
            </h1>
            <p class="text-gray-500 text-sm mt-2">Teste seu conhecimento sobre NR10, DR e Boas Pr√°ticas.</p>
        </header>

        <!-- Se√ß√£o de Quest√µes/Resultados -->
        <div id="quiz-content">
            <!-- As quest√µes e o resultado final ser√£o injetados aqui pelo JavaScript -->
            <p class="text-center text-gray-500">Carregando quiz...</p>
        </div>

    </div>

    <!-- 2. Estrutura de Dados e L√≥gica do Quiz (JavaScript) -->
    <script>
        // Dados do Quiz
        const quizData = [
            {
                questionNumber: 1,
                question: "Qual √© a fun√ß√£o principal do Dispositivo Diferencial Residual (DR) em uma instala√ß√£o el√©trica?",
                hint: "Pense no que causa o choque el√©trico e qual dispositivo foi criado especificamente para proteger contra isso.",
                answerOptions: [
                    { text: "Proteger os equipamentos contra sobrecargas e curtos-circuitos.", rationale: "Essa √© a fun√ß√£o prim√°ria do disjuntor termomagn√©tico, e n√£o do DR.", isCorrect: false },
                    { text: "Proteger as pessoas contra choques el√©tricos por detectar fugas de corrente.", rationale: "O DR mede o desequil√≠brio entre a corrente de entrada e sa√≠da, indicando uma fuga (geralmente atrav√©s de uma pessoa), e desarma o circuito rapidamente.", isCorrect: true },
                    { text: "Interromper o circuito apenas quando a tens√£o est√° muito alta.", rationale: "Dispositivos de prote√ß√£o contra sobretens√£o s√£o espec√≠ficos para essa fun√ß√£o.", isCorrect: false },
                    { text: "Fornecer um caminho de baixa resist√™ncia para descargas atmosf√©ricas.", rationale: "Essa √© a fun√ß√£o principal do sistema de aterramento (SPDA) e n√£o do DR.", isCorrect: false }
                ]
            },
            {
                questionNumber: 2,
                question: "De acordo com a NBR 5410, em qual dos locais listados abaixo o uso do DR √© obrigat√≥rio?",
                hint: "A obrigatoriedade do DR est√° ligada a ambientes com maior probabilidade de exposi√ß√£o √† umidade ou √°reas externas.",
                answerOptions: [
                    { text: "Apenas em circuitos de ilumina√ß√£o em salas de estar.", rationale: "N√£o √© uma √°rea molhada, portanto o uso do DR n√£o √© universalmente obrigat√≥rio aqui.", isCorrect: false },
                    { text: "Em todos os circuitos de tomada de uso geral (TUG) em quartos.", rationale: "Embora seja recomendado, n√£o √© um requisito obrigat√≥rio para TUGs em √°reas secas.", isCorrect: false },
                    { text: "Circuitos que sirvam a pontos de utiliza√ß√£o em banheiros, cozinhas e √°reas de servi√ßo.", rationale: "A NBR 5410 exige o DR em √°reas molhadas (banheiros, cozinhas, √°reas de servi√ßo e externas) para prote√ß√£o contra choques.", isCorrect: true },
                    { text: "Circuitos que alimentam apenas motores de baixa pot√™ncia (at√© 1 CV).", rationale: "A obrigatoriedade depende do local de instala√ß√£o, n√£o da pot√™ncia ou tipo de carga.", isCorrect: false }
                ]
            },
            {
                questionNumber: 3,
                question: "Qual √© o principal objetivo da Norma Regulamentadora 10 (NR 10)?",
                hint: "A NR 10 √© uma norma do Minist√©rio do Trabalho e Emprego, focada em um aspecto espec√≠fico do ambiente de trabalho.",
                answerOptions: [
                    { text: "Apenas definir as especifica√ß√µes t√©cnicas de cabos e disjuntores.", rationale: "Essa √© a fun√ß√£o das Normas Brasileiras (NBRs) da ABNT, como a NBR 5410.", isCorrect: false },
                    { text: "Estabelecer requisitos e condi√ß√µes m√≠nimas para garantir a seguran√ßa e sa√∫de dos trabalhadores que interagem com eletricidade.", rationale: "A NR 10 foca em medidas de controle e sistemas preventivos para a seguran√ßa dos trabalhadores em servi√ßos e instala√ß√µes el√©tricas.", isCorrect: true },
                    { text: "Regular a tens√£o m√°xima permitida em instala√ß√µes industriais.", rationale: "Isso √© definido por normas t√©cnicas e concession√°rias de energia.", isCorrect: false },
                    { text: "Estabelecer as regras para constru√ß√µes civis e canteiros de obras.", rationale: "Essa √© a fun√ß√£o principal da Norma Regulamentadora 18 (NR 18).", isCorrect: false }
                ]
            },
            {
                questionNumber: 4,
                question: "Em rela√ß√£o √† gravidade de um choque el√©trico, qual fator √© considerado o mais perigoso por afetar diretamente o cora√ß√£o?",
                hint: "A fibrila√ß√£o ventricular √© o maior risco. Pense no que determina se a corrente passa por esse √≥rg√£o vital.",
                answerOptions: [
                    { text: "A cor da vestimenta de seguran√ßa do trabalhador.", rationale: "A cor da vestimenta n√£o tem influ√™ncia na gravidade do choque el√©trico.", isCorrect: false },
                    { text: "O caminho da corrente el√©trica que atravessa o corpo (ex: m√£o a m√£o ou m√£o a p√©).", rationale: "O caminho da corrente √© crucial, pois um trajeto que inclui o cora√ß√£o (como m√£o a m√£o) √© o mais perigoso.", isCorrect: true },
                    { text: "O volume de √°gua ingerido pela pessoa no momento do choque.", rationale: "N√£o h√° rela√ß√£o direta entre a ingest√£o de √°gua e a gravidade de um choque el√©trico.", isCorrect: false },
                    { text: "A espessura do isolamento da ferramenta utilizada.", rationale: "A espessura √© importante para preven√ß√£o, mas n√£o determina a gravidade do choque depois que ele ocorre.", isCorrect: false }
                ]
            },
            {
                questionNumber: 5,
                question: "Quem √© o trabalhador que, al√©m de ser qualificado ou habilitado, recebeu autoriza√ß√£o formal da empresa para intervir em instala√ß√µes el√©tricas e passou pelo Curso B√°sico de NR 10?",
                hint: "Este profissional possui o n√≠vel mais alto de formaliza√ß√£o dentro da empresa para execu√ß√£o de servi√ßos.",
                answerOptions: [
                    { text: "Trabalhador Qualificado.", rationale: "O qualificado apenas concluiu o curso espec√≠fico, faltando a autoriza√ß√£o formal da empresa e o treinamento NR 10.", isCorrect: false },
                    { text: "Profissional Habilitado.", rationale: "O habilitado tem registro no conselho de classe, mas a autoriza√ß√£o formal da empresa o eleva ao n√≠vel de Autorizado.", isCorrect: false },
                    { text: "Eletricista Leigo.", rationale: "O leigo n√£o possui treinamento ou autoriza√ß√£o formal para intervir em instala√ß√µes el√©tricas.", isCorrect: false },
                    { text: "Trabalhador Autorizado.", rationale: "O Trabalhador Autorizado √© o profissional que atende aos requisitos de qualifica√ß√£o/habilita√ß√£o e recebe a permiss√£o formal da empresa ap√≥s o treinamento da NR 10.", isCorrect: true }
                ]
            },
            {
                questionNumber: 6,
                question: "Qual das seguintes a√ß√µes representa uma pr√°tica segura no manuseio de eletrodom√©sticos no ambiente dom√©stico?",
                hint: "Uma das pr√°ticas visa preservar a integridade f√≠sica do cabo de alimenta√ß√£o e do isolamento.",
                answerOptions: [
                    { text: "Usar adaptadores (benjamins) para conectar m√∫ltiplos aparelhos em uma √∫nica tomada.", rationale: "O uso excessivo de benjamins pode sobrecarregar a tomada e a fia√ß√£o, causando risco de inc√™ndio.", isCorrect: false },
                    { text: "Consertar fios descascados com fita isolante comum sem desligar o disjuntor.", rationale: "A improvisa√ß√£o e a falta de desenergiza√ß√£o aumentam o risco de choque el√©trico e inc√™ndio.", isCorrect: false },
                    { text: "Puxar o plugue pelo corpo pl√°stico ao desconect√°-lo da tomada.", rationale: "Puxar o plugue pelo corpo pl√°stico previne danos aos fios internos e ao isolamento do cabo.", isCorrect: true },
                    { text: "Utilizar ferramentas n√£o isoladas para reparos simples na fia√ß√£o.", rationale: "Mesmo para reparos simples, o uso de ferramentas isoladas e a desenergiza√ß√£o do circuito s√£o essenciais.", isCorrect: false }
                ]
            },
            {
                questionNumber: 7,
                question: "Qual √© o primeiro passo obrigat√≥rio no Procedimento de Desenergiza√ß√£o (LOTO - Cinco Regras de Ouro) antes de iniciar um trabalho em uma instala√ß√£o el√©trica?",
                hint: "Antes de qualquer verifica√ß√£o ou bloqueio, a fonte de energia deve ser removida.",
                answerOptions: [
                    { text: "Constata√ß√£o da Aus√™ncia de Tens√£o (CAT).", rationale: "A CAT √© o terceiro passo, realizado ap√≥s o seccionamento e o impedimento de reenergiza√ß√£o.", isCorrect: false },
                    { text: "Seccionamento (Desligar ou abrir o circuito).", rationale: "O Seccionamento √© a primeira e fundamental a√ß√£o para isolar o circuito da fonte de energia.", isCorrect: true },
                    { text: "Instala√ß√£o do Aterramento Tempor√°rio.", rationale: "O aterramento tempor√°rio √© o quarto passo, garantindo que o circuito permane√ßa em potencial zero.", isCorrect: false },
                    { text: "Prote√ß√£o dos Elementos Vivos Vizinhos.", rationale: "A prote√ß√£o √© um passo importante, mas n√£o o primeiro no processo de desenergiza√ß√£o.", isCorrect: false }
                ]
            },
            {
                questionNumber: 8,
                question: "Em rela√ß√£o √† seguran√ßa el√©trica em Canteiros de Obras (NR 18), qual pr√°tica √© considerada um risco amplificado e deve ser evitada?",
                hint: "Canteiros de obras frequentemente t√™m tr√°fego de pessoas e m√°quinas; pense no que torna a fia√ß√£o vulner√°vel.",
                answerOptions: [
                    { text: "Deixar cabos ou extens√µes expostos no ch√£o, sujeitos a danos.", rationale: "Cabos no ch√£o aumentam o risco de danos mec√¢nicos, curtos-circuitos e choques em um ambiente j√° perigoso.", isCorrect: true },
                    { text: "Usar pain√©is de distribui√ß√£o (QDC) identificados e trancados.", rationale: "Manter pain√©is fechados e trancados √© uma boa pr√°tica de seguran√ßa.", isCorrect: false },
                    { text: "Inspecionar o estado de cabos antes de usar ferramentas el√©tricas.", rationale: "A inspe√ß√£o antes do uso √© uma pr√°tica essencial de seguran√ßa.", isCorrect: false },
                    { text: "Suspender eletrodutos para proteger a fia√ß√£o.", rationale: "A suspens√£o ou o uso de eletrodutos √© uma medida de prote√ß√£o contra danos mec√¢nicos.", isCorrect: false }
                ]
            },
            {
                questionNumber: 9,
                question: "O que acontece com a resist√™ncia do corpo humano ao toque em condutores el√©tricos quando a pele est√° molhada ou ferida?",
                hint: "Lembre-se que a √°gua √© um condutor, e a resist√™ncia da pele √© a principal defesa do corpo.",
                answerOptions: [
                    { text: "A resist√™ncia aumenta, diminuindo o risco de choque el√©trico.", rationale: "A umidade ou feridas na pele diminuem a resist√™ncia, aumentando o risco.", isCorrect: false },
                    { text: "A resist√™ncia n√£o se altera, pois depende apenas da tens√£o.", rationale: "A resist√™ncia depende da condi√ß√£o da pele, do caminho da corrente e da √°rea de contato, n√£o apenas da tens√£o.", isCorrect: false },
                    { text: "A resist√™ncia diminui drasticamente, aumentando a intensidade da corrente e o perigo de les√£o fatal.", rationale: "A pele molhada ou ferida oferece um caminho de baixa resist√™ncia, o que permite a passagem de uma corrente mais intensa, tornando o choque mais perigoso.", isCorrect: true },
                    { text: "A resist√™ncia se torna infinita, interrompendo a corrente.", rationale: "Isso √© imposs√≠vel em contato com a eletricidade.", isCorrect: false }
                ]
            },
            {
                questionNumber: 10,
                question: "Qual a diferen√ßa crucial entre um Trabalhador Qualificado e um Trabalhador Habilitado, conforme a NR 10?",
                hint: "Pense na necessidade de formaliza√ß√£o legal da profiss√£o fora da empresa.",
                answerOptions: [
                    { text: "O Habilitado pode trabalhar com alta tens√£o, o Qualificado n√£o.", rationale: "Ambos podem trabalhar em instala√ß√µes el√©tricas, mas o trabalho com Alta Tens√£o (AT) exige o treinamento complementar do SEP.", isCorrect: false },
                    { text: "O Habilitado deve ter registro no conselho de classe (CREA/CFT), o Qualificado apenas concluiu o curso espec√≠fico.", rationale: "O Habilitado possui registro no conselho de classe (Engenheiro ou T√©cnico com registro), o que o distingue legalmente do Qualificado.", isCorrect: true },
                    { text: "O Qualificado s√≥ pode atuar em √°reas secas, o Habilitado em √°reas molhadas.", rationale: "A √°rea de atua√ß√£o √© definida pela autoriza√ß√£o da empresa e procedimentos, n√£o pela qualifica√ß√£o ou habilita√ß√£o em si.", isCorrect: false },
                    { text: "O Qualificado pode supervisionar, o Habilitado s√≥ executa.", rationale: "A responsabilidade de supervis√£o geralmente recai sobre o Habilitado, devido ao seu registro profissional.", isCorrect: false }
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let quizCompleted = false;
        let selectedOptionData = null; // Armazena o objeto de dados da op√ß√£o selecionada
        let selectedOptionElement = null; // Armazena o elemento DOM do bot√£o selecionado

        const quizContent = document.getElementById('quiz-content');

        // Fun√ß√£o para embaralhar um array (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Fun√ß√£o principal para exibir a quest√£o
        function displayQuestion() {
            if (quizCompleted) return;

            const qData = quizData[currentQuestionIndex];
            selectedOptionData = null; 
            selectedOptionElement = null;

            // Embaralha as op√ß√µes para cada pergunta
            // Criamos uma c√≥pia do array para embaralhar
            const currentOptions = [...qData.answerOptions]; 
            shuffleArray(currentOptions);

            const optionsHtml = currentOptions.map((option, index) => `
                <button
                    class="quiz-button w-full text-left p-4 mb-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 hover:bg-red-50"
                    data-index="${index}"
                    data-option-text="${option.text.replace(/"/g, '&quot;')}"
                    onclick="selectOption(this)"
                >
                    ${option.text}
                </button>
            `).join('');
            
            // Define o texto do bot√£o 'Pr√≥xima Quest√£o' de volta ao padr√£o
            const nextButtonText = currentQuestionIndex === quizData.length - 1 
                ? 'Verifique sua pontua√ß√£o!' 
                : 'Pr√≥xima Quest√£o';


            quizContent.innerHTML = `
                <div id="question-card" class="mb-6">
                    <p class="text-sm font-semibold text-red-500 mb-2">
                        Quest√£o ${qData.questionNumber} de ${quizData.length}
                    </p>
                    <h2 class="text-xl font-bold mb-6 text-gray-800">
                        ${qData.question}
                    </h2>
                </div>

                <div id="options-container" class="space-y-3">
                    ${optionsHtml}
                </div>

                <div id="feedback-area" class="mt-6 hidden">
                    <p id="feedback-message" class="text-lg font-bold mb-3"></p>
                    <div id="rationale-box" class="p-4 rounded-lg border-l-4">
                        <p class="font-semibold mb-1">Explica√ß√£o:</p>
                        <p id="rationale-text" class="text-sm"></p>
                    </div>
                </div>

                <div class="mt-8 flex justify-between items-center">
                    <button id="hint-button" class="text-sm text-red-600 hover:text-red-800 transition duration-150" onclick="showHint('${qData.hint}')">
                        Ver Dica
                    </button>
                    <button id="submit-button" class="px-6 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-md transition duration-150 opacity-50 cursor-not-allowed" onclick="submitAnswer()" disabled>
                        Verificar Resposta
                    </button>
                    <button id="next-button" class="px-6 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-md transition duration-150 hidden" onclick="nextQuestion()">
                        Pr√≥xima Quest√£o
                    </button>
                </div>
            `;
            // Isso garante que, se voltarmos de um estado final, o texto do bot√£o "Pr√≥xima Quest√£o" esteja correto para a pr√≥xima pergunta.
            if (currentQuestionIndex === quizData.length - 1) {
                document.getElementById('next-button').textContent = 'Verifique sua pontua√ß√£o!';
            } else {
                document.getElementById('next-button').textContent = 'Pr√≥xima Quest√£o';
            }
        }

        // Sele√ß√£o de op√ß√£o
        function selectOption(button) {
            const submitButton = document.getElementById('submit-button');

            // 1. Evita sele√ß√£o se a resposta j√° foi submetida
            if (submitButton.classList.contains('hidden')) {
                return;
            }

            // 2. Remove sele√ß√£o de todos os bot√µes
            document.querySelectorAll('#options-container button').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-red-500', 'border-red-500');
            });
            
            // 3. Adiciona sele√ß√£o ao bot√£o clicado
            button.classList.add('ring-2', 'ring-red-500', 'border-red-500');
            selectedOptionElement = button;
            
            // 4. Determina a op√ß√£o selecionada a partir dos dados (Texto √© o identificador seguro)
            const selectedText = button.getAttribute('data-option-text');
            const qData = quizData[currentQuestionIndex];
            selectedOptionData = qData.answerOptions.find(opt => opt.text === selectedText);

            // 5. Ativa o bot√£o de submiss√£o
            submitButton.disabled = false;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
        }

        // Submiss√£o de resposta
        function submitAnswer() {
            if (!selectedOptionData || !selectedOptionElement) return;

            const submitButton = document.getElementById('submit-button');
            const nextButton = document.getElementById('next-button'); // Adicionado para refer√™ncia f√°cil
            const qData = quizData[currentQuestionIndex];
            const options = document.querySelectorAll('#options-container button');
            const feedbackArea = document.getElementById('feedback-area');
            const rationaleBox = document.getElementById('rationale-box');
            const feedbackMessage = document.getElementById('feedback-message');
            const rationaleText = document.getElementById('rationale-text');

            // Desativa o bot√£o de submiss√£o e todos os bot√µes de op√ß√£o
            submitButton.disabled = true;
            options.forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-red-50');
            });

            // Encontrar o elemento DOM da op√ß√£o correta
            let correctOptionElement = null;
            const correctOptionData = qData.answerOptions.find(opt => opt.isCorrect);

            options.forEach(btn => {
                if (btn.getAttribute('data-option-text') === correctOptionData.text) {
                    correctOptionElement = btn;
                }
            });


            // 1. Verifica se est√° correta
            if (selectedOptionData.isCorrect) {
                score++;
                feedbackMessage.textContent = "Correto! Excelente trabalho.";
                feedbackMessage.className = 'text-lg font-bold mb-3 text-green-600';
                rationaleBox.className = 'p-4 rounded-lg border-l-4 bg-green-50 border-green-500';
                
                // Marca a resposta selecionada como correta (caso o usu√°rio tenha acertado)
                selectedOptionElement.classList.add('correct-answer');
                selectedOptionElement.classList.remove('ring-2', 'ring-red-500', 'border-red-500');

            } else {
                feedbackMessage.textContent = "Incorreto. A revis√£o ajuda a fixar o conhecimento.";
                feedbackMessage.className = 'text-lg font-bold mb-3 text-red-600';
                rationaleBox.className = 'p-4 rounded-lg border-l-4 bg-red-50 border-red-500';
                
                // Marca a resposta selecionada como incorreta
                selectedOptionElement.classList.add('incorrect-answer');
                selectedOptionElement.classList.remove('ring-2', 'ring-red-500', 'border-red-500');

                // Marca a resposta correta para visualiza√ß√£o
                if (correctOptionElement) {
                    correctOptionElement.classList.add('correct-answer');
                }
            }

            // Exibe o feedback
            rationaleText.textContent = selectedOptionData.rationale;
            feedbackArea.classList.remove('hidden');

            // Esconde o bot√£o de verificar e mostra o pr√≥ximo
            submitButton.classList.add('hidden');
            nextButton.classList.remove('hidden');
            document.getElementById('hint-button').classList.add('hidden'); // Esconde a dica ap√≥s a submiss√£o
            
            // **CORRE√á√ÉO APLICADA AQUI:**
            // Se for a √∫ltima pergunta, muda o texto do bot√£o "Pr√≥xima Quest√£o"
            if (currentQuestionIndex === quizData.length - 1) {
                nextButton.textContent = 'Verifique sua pontua√ß√£o!';
            }
        }

        // Pr√≥xima quest√£o ou fim do quiz
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        // Exibir a dica
        function showHint(hintText) {
            // Usando uma div modal ou alert simples (conforme restri√ß√£o)
            alert(`Dica: ${hintText}`);
        }

        // Exibir resultados
        function showResults() {
            quizCompleted = true;
            const percentage = (score / quizData.length) * 100;
            let resultMessage = '';
            let emoji = '';

            if (percentage === 100) {
                resultMessage = 'Dom√≠nio Completo! Voc√™ √© um especialista em Seguran√ßa El√©trica.';
                emoji = '‚ö°Ô∏è';
            } else if (percentage >= 70) {
                resultMessage = '√ìtimo Resultado! Voc√™ demonstrou um forte conhecimento dos princ√≠pios de seguran√ßa.';
                emoji = '‚úÖ';
            } else if (percentage >= 50) {
                resultMessage = 'Bom Desempenho. Continue revisando os pontos fracos para melhorar.';
                emoji = 'üí°';
            } else {
                resultMessage = 'Precisa de mais revis√£o. Concentre-se nos t√≥picos de NR 10 e DR.';
                emoji = 'üìö';
            }

            quizContent.innerHTML = `
                <div class="text-center p-8 bg-red-50 rounded-xl shadow-inner">
                    <div class="text-6xl mb-4">${emoji}</div>
                    <h2 class="text-3xl font-bold mb-4 text-red-600">Quiz Conclu√≠do!</h2>
                    <p class="text-xl font-semibold mb-2 text-gray-800">Sua Pontua√ß√£o Final: ${score} de ${quizData.length}</p>
                    <p class="text-2xl font-extrabold text-red-700 mb-6">${percentage.toFixed(0)}% de Acerto</p>
                    <p class="text-lg text-gray-600">${resultMessage}</p>

                    <button class="mt-8 px-8 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-md transition duration-150 hover:bg-red-700" onclick="resetQuiz()">
                        Refazer Quiz
                    </button>
                </div>
            `;
        }

        // Reiniciar quiz
        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            quizCompleted = false;
            // Garante que o texto do bot√£o seja resetado se o quiz for refeito
            if (document.getElementById('next-button')) {
                 document.getElementById('next-button').textContent = 'Pr√≥xima Quest√£o';
            }
            displayQuestion();
        }

        // Inicia o quiz
        document.addEventListener('DOMContentLoaded', displayQuestion);

        // Desabilita o menu de contexto para evitar trapa√ßa
        document.addEventListener('contextmenu', event => event.preventDefault());

    </script>
</body>
</html>
