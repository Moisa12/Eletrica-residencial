<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulado T√©cnico: Disjuntores, DR e DPS</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #eef2f7; padding: 20px; color: #333; }
        .container { max-width: 850px; margin: auto; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { color: #1a5276; text-align: center; border-bottom: 3px solid #3498db; padding-bottom: 15px; margin-bottom: 30px; }
        .question { margin-bottom: 35px; padding: 20px; border-left: 5px solid #3498db; background: #f9f9f9; border-radius: 0 8px 8px 0; }
        .options { list-style: none; padding: 0; display: grid; grid-template-columns: 1fr; gap: 10px; }
        button { width: 100%; text-align: left; padding: 14px; border: 1px solid #ccc; border-radius: 6px; background: #fff; cursor: pointer; font-size: 1rem; transition: all 0.2s; }
        button:hover:not([disabled]) { background: #ebf5fb; border-color: #3498db; transform: translateX(5px); }
        .correct { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724; font-weight: bold; }
        .wrong { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }
        .feedback { display: none; margin-top: 15px; padding: 15px; border-radius: 6px; font-weight: 500; border: 1px solid transparent; }
        .btn-reset { display: block; margin: 30px auto; padding: 12px 25px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        
        /* Estilos da Pontua√ß√£o */
        .score-board {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #1a5276;
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-weight: bold;
            z-index: 1000;
        }
        #final-result {
            display: none;
            text-align: center;
            padding: 30px;
            background: #f1f9ff;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin-top: 20px;
        }
        @media (max-width: 600px) {
            .score-board { position: static; text-align: center; margin-bottom: 20px; width: 100%; box-sizing: border-box; }
        }
    </style>
</head>
<body>

<div class="score-board">
    Acertos: <span id="current-score">0</span> / 10
</div>

<div class="container">
    <h1>‚ö° Simulado de Prote√ß√£o El√©trica</h1>
    <p style="text-align: center; margin-bottom: 40px;">Selecione uma das 4 op√ß√µes para cada quest√£o.</p>

    <div id="quiz-container"></div>

    <div id="final-result">
        <h2 id="result-message"></h2>
        <p id="result-score-text"></p>
    </div>
    
    <button class="btn-reset" onclick="location.reload()">Reiniciar Question√°rio</button>
</div>

<script>
let score = 0;
let answeredQuestions = 0;

const questions = [
    {
        q: "1. O disjuntor termomagn√©tico protege o circuito contra quais fen√¥menos?",
        options: [
            { text: "Apenas contra choques el√©tricos por contato direto.", correct: false, reason: "Incorreto. Essa √© a fun√ß√£o do DR." },
            { text: "Sobrecargas de longa dura√ß√£o e curtos-circuitos.", correct: true, reason: "Correto! O elemento t√©rmico cuida da sobrecarga e o magn√©tico do curto-circuito." },
            { text: "Picos de tens√£o causados por raios na rede externa.", correct: false, reason: "Incorreto. Prote√ß√£o contra surtos de tens√£o √© papel do DPS." },
            { text: "Fugas de corrente para a carca√ßa de equipamentos.", correct: false, reason: "Incorreto. Fugas de corrente s√£o detectadas pelo DR." }
        ]
    },
    {
        q: "2. Qual a principal diferen√ßa entre um IDR e um disjuntor comum?",
        options: [
            { text: "O IDR aguenta mais carga que o disjuntor comum.", correct: false, reason: "Incorreto. S√£o dispositivos com fun√ß√µes de prote√ß√£o diferentes." },
            { text: "O IDR protege os equipamentos e o disjuntor protege as pessoas.", correct: false, reason: "Incorreto. √â o contr√°rio: o IDR foca em pessoas e o disjuntor nos cabos." },
            { text: "O IDR desarma ao detectar fuga de corrente, o disjuntor n√£o.", correct: true, reason: "Correto! O IDR monitora o equil√≠brio entre fase e neutro." },
            { text: "O disjuntor precisa de aterramento para funcionar, o IDR n√£o.", correct: false, reason: "Incorreto. Na verdade, o IDR √© mais eficiente quando h√° aterramento." }
        ]
    },
    {
        q: "3. Na instala√ß√£o de um DPS, o que o cabo de sa√≠da deve encontrar obrigatoriamente?",
        options: [
            { text: "O barramento de neutro da concession√°ria.", correct: false, reason: "Incorreto. O destino final do surto deve ser o terra." },
            { text: "O disjuntor diferencial residual (IDR).", correct: false, reason: "Incorreto. O DPS deve ser ligado antes do IDR ou em paralelo." },
            { text: "Um eletrodo de aterramento (Barramento PE).", correct: true, reason: "Correto! O DPS funciona 'escoando' o surto para o solo atrav√©s do terra." },
            { text: "A carca√ßa met√°lica do quadro de distribui√ß√£o apenas.", correct: false, reason: "Incorreto. A carca√ßa deve estar aterrada para que isso funcione." }
        ]
    },
    {
        q: "4. Em um sistema Bif√°sico + Neutro, qual a configura√ß√£o m√≠nima de DPS Classe II?",
        options: [
            { text: "Apenas 1 DPS ligado entre as duas fases.", correct: false, reason: "Incorreto. Cada fase precisa de um caminho individual para o terra." },
            { text: "2 DPS (um para cada fase) ligados ao barramento de terra.", correct: true, reason: "Correto! Em sistemas TN-S, protege-se as fases. No TT, adiciona-se o neutro." },
            { text: "3 DPS ligados em s√©rie um com o outro.", correct: false, reason: "Incorreto. DPS devem ser instalados em paralelo com a carga." },
            { text: "Nenhum, pois sistemas bif√°sicos s√£o auto-protegidos.", correct: false, reason: "Incorreto. Surtos podem atingir qualquer condutor vivo." }
        ]
    },
    {
        q: "5. Se o visor do DPS est√° 'Verde', mas ocorreu um raio e os aparelhos queimaram, por que?",
        options: [
            { text: "O DPS est√° com defeito de f√°brica.", correct: false, reason: "Improv√°vel. Existem outras raz√µes t√©cnicas mais comuns." },
            { text: "O cabo de aterramento do DPS era muito longo ou deu voltas.", correct: true, reason: "Correto! Cabos longos (>50cm) criam indut√¢ncia que impede o DPS de atuar r√°pido." },
            { text: "O visor verde significa que ele j√° est√° queimado.", correct: false, reason: "Incorreto. Verde indica que o componente interno est√° √≠ntegro." },
            { text: "O DPS Classe II n√£o protege contra raios de forma alguma.", correct: false, reason: "Incorreto. Ele protege contra os efeitos secund√°rios (surtos) dos raios." }
        ]
    },
    {
        q: "6. Por que o IDR de 30mA √© chamado de 'prote√ß√£o de alta sensibilidade'?",
        options: [
            { text: "Porque ele desarma com qualquer varia√ß√£o de voltagem.", correct: false, reason: "Incorreto. Ele √© sens√≠vel √† corrente (Amperes), n√£o √† voltagem." },
            { text: "Porque 30mA √© o limite antes da corrente causar parada card√≠aca.", correct: true, reason: "Correto! Esse valor √© projetado para salvar vidas humanas." },
            { text: "Porque ele detecta curtos-circuitos muito pequenos.", correct: false, reason: "Incorreto. Curtos geram correntes alt√≠ssimas, muito maiores que 30mA." },
            { text: "Porque ele reage em menos de 1 microsegundo.", correct: false, reason: "Incorreto. O tempo de resposta √© r√°pido, mas medido em milissegundos." }
        ]
    },
    {
        q: "7. O que acontece se ligarmos o Neutro no barramento de Terra ap√≥s o IDR?",
        options: [
            { text: "O sistema fica duplamente protegido.", correct: false, reason: "Incorreto. Isso cria um erro de leitura no IDR." },
            { text: "O IDR vai desarmar constantemente (falso positivo).", correct: true, reason: "Correto! O IDR entender√° que parte da corrente est√° 'fugindo' pelo terra." },
            { text: "Os aparelhos v√£o queimar por sobretens√£o.", correct: false, reason: "Incorreto. Isso causa apenas o desligamento do circuito pelo IDR." },
            { text: "O disjuntor geral vai desarmar por curto-circuito.", correct: false, reason: "Incorreto. √â uma fuga de corrente, n√£o necessariamente um curto." }
        ]
    },
    {
        q: "8. Qual a fun√ß√£o da coordena√ß√£o entre Classe I e Classe II em DPS?",
        options: [
            { text: "Fazer o quadro de luz ficar mais organizado.", correct: false, reason: "A organiza√ß√£o √© est√©tica, a coordena√ß√£o √© t√©cnica." },
            { text: "Reduzir o custo da instala√ß√£o el√©trica.", correct: false, reason: "Usar dois tipos de DPS geralmente aumenta o custo inicial." },
            { text: "Drenar a energia em est√°gios, da entrada bruta at√© o quadro final.", correct: true, reason: "Correto! A Classe I segura o 'grosso' e a Classe II faz o ajuste fino." },
            { text: "Permitir que a energia solar funcione √† noite.", correct: false, reason: "Incorreto. N√£o h√° rela√ß√£o direta com a gera√ß√£o solar noturna." }
        ]
    },
    {
        q: "9. Em qual situa√ß√£o o uso do DR √© dispens√°vel segundo a NBR 5410?",
        options: [
            { text: "Em tomadas de banheiros e √°reas de servi√ßo.", correct: false, reason: "Incorreto. Nesses locais o DR √© obrigat√≥rio." },
            { text: "Em circuitos de ilumina√ß√£o localizados em √°reas secas.", correct: true, reason: "Correto! Embora recomendado, a obrigatoriedade √© maior em √°reas √∫midas e externas." },
            { text: "Em qualquer tomada que alimente um computador.", correct: false, reason: "Incorreto. Tomadas de uso geral devem ter prote√ß√£o DR se acess√≠veis." },
            { text: "Nunca. O DR √© obrigat√≥rio em 100% dos circuitos de uma casa.", correct: false, reason: "Incorreto. A norma especifica os locais obrigat√≥rios (√°reas √∫midas/externas)." }
        ]
    },
    {
        q: "10. Qual a se√ß√£o m√≠nima do cabo para aterramento de um DPS Classe II?",
        options: [
            { text: "1.5 mm¬≤ (mesmo que ilumina√ß√£o).", correct: false, reason: "Incorreto. Muito fino para suportar a energia de um surto." },
            { text: "4 mm¬≤ ou acompanhando a fase (m√≠nimo conforme norma).", correct: true, reason: "Correto! Deve ter robustez para conduzir a descarga sem derreter." },
            { text: "N√£o precisa de cabo, pode ser fixado com fita isolante.", correct: false, reason: "Incorreto. Conex√µes el√©tricas devem ser feitas com condutores e bornes." },
            { text: "Cabo de rede (UTP) categoria 6.", correct: false, reason: "Incorreto. Cabos de dados n√£o servem para pot√™ncia ou aterramento." }
        ]
    }
];

const container = document.getElementById('quiz-container');

questions.forEach((q, qIndex) => {
    const qDiv = document.createElement('div');
    qDiv.className = 'question';
    qDiv.innerHTML = `<h3>${q.q}</h3><ul class="options" id="options-${qIndex}"></ul><div class="feedback" id="feedback-${qIndex}"></div>`;
    container.appendChild(qDiv);

    const optionsUl = document.getElementById(`options-${qIndex}`);
    q.options.forEach((opt, oIndex) => {
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.innerText = opt.text;
        btn.onclick = () => checkAnswer(qIndex, oIndex, btn);
        li.appendChild(btn);
        optionsUl.appendChild(li);
    });
});

function checkAnswer(qIdx, oIdx, btn) {
    const feedback = document.getElementById(`feedback-${qIdx}`);
    const option = questions[qIdx].options[oIdx];
    const buttons = document.querySelectorAll(`#options-${qIdx} button`);
    
    buttons.forEach(b => { b.disabled = true; });
    answeredQuestions++;

    if(option.correct) {
        score++;
        btn.classList.add('correct');
        feedback.style.display = 'block';
        feedback.style.backgroundColor = '#d4edda';
        feedback.style.borderColor = '#28a745';
        feedback.innerHTML = "üéØ <strong>ACERTOU!</strong> " + option.reason;
    } else {
        btn.classList.add('wrong');
        feedback.style.display = 'block';
        feedback.style.backgroundColor = '#f8d7da';
        feedback.style.borderColor = '#dc3545';
        feedback.innerHTML = "‚ùå <strong>ERRADO.</strong> " + option.reason;
        
        questions[qIdx].options.forEach((opt, i) => {
            if(opt.correct) buttons[i].classList.add('correct');
        });
    }

    document.getElementById('current-score').innerText = score;

    if(answeredQuestions === questions.length) {
        showFinalResult();
    }
}

function showFinalResult() {
    const finalDiv = document.getElementById('final-result');
    const msg = document.getElementById('result-message');
    const scoreTxt = document.getElementById('result-score-text');
    
    finalDiv.style.display = 'block';
    scoreTxt.innerText = `Voc√™ acertou ${score} de ${questions.length} quest√µes.`;

    if(score >= 8) {
        msg.innerText = "üèÜ Excelente! Voc√™ √© um mestre da prote√ß√£o el√©trica!";
        msg.style.color = "#28a745";
    } else if (score >= 5) {
        msg.innerText = "üëç Bom trabalho! Mas ainda pode revisar alguns conceitos.";
        msg.style.color = "#f39c12";
    } else {
        msg.innerText = "üìö Precisa estudar mais! Revise as normas NBR 5410.";
        msg.style.color = "#dc3545";
    }
    
    finalDiv.scrollIntoView({ behavior: 'smooth' });
}
</script>

</body>
</html>
